(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{hfNI:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class i{}var a=u("pMnS"),t=u("oBZk"),o=u("ZZ/e"),r=u("s7LF"),b=u("SVse"),s=u("iInd"),d=u("mrSG"),c=u("52oS"),h=u("E2f4"),g=u("ewvd"),p=u("IV2E"),m=u("CFL1"),C=u("vx/u"),f=u("nYR2");class k{constructor(l,n,u,e,i){this.storageService=l,this.utilMensagemService=n,this.userService=u,this.utilDataService=e,this.afStorage=i,this.usuario=new g.a}ngOnInit(){this.usuario=this.storageService.getLocalUser(),this.usuario.birthday=this.utilDataService.getData(this.usuario.birthday.seconds)}ngOnDestroy(){}showConfirmPassword(){return d.__awaiter(this,void 0,void 0,(function*(){this.utilMensagemService.showConfirm("Alerta","Voc\xea deseja alterar sua senha ?",()=>d.__awaiter(this,void 0,void 0,(function*(){yield this.utilMensagemService.presentLoading("Enviando e-mail para altera\xe7\xe3o de senha, por favor aguarde..."),this.userService.recuperarSenha(this.usuario.email).then(()=>{this.utilMensagemService.showAlertOk("Sucesso","Foi enviado um e-mail para alterar sua senha.")}).catch(l=>{this.utilMensagemService.showToastError(c.a[l.code])}).finally(()=>{this.utilMensagemService.dismissLoading()})})))}))}upload(l){this.fileData=l.target.files[0],this.preview()}preview(){if(null==this.fileData.type.match(/image\/*/))return void this.utilMensagemService.showAlertError("Por favor escolha uma imagem!!");let l=new FileReader;l.readAsDataURL(this.fileData),l.onload=n=>{this.previewSucursalInstalacion=l.result,this.uploadFireCloud()}}uploadFireCloud(){const l=this.afStorage.ref("perfil/"+this.usuario.uid+".jpg");l.put(this.getBlob(this.previewSucursalInstalacion)).snapshotChanges().pipe(Object(f.a)(()=>{this.uploadedFileURL=l.getDownloadURL(),this.uploadedFileURL.subscribe(l=>{console.log(l)},l=>{console.error(l)})}))}getBlob(l){l=l.replace(/data\:image\/(jpeg|jpg|png)\;base64\,/gi,"");let n=atob(l),u=[];for(let e=0;e<n.length;e+=128){let l=n.slice(e,e+128),i=new Array(l.length);for(let n=0;n<l.length;n++)i[n]=l.charCodeAt(n);let a=new Uint8Array(i);u.push(a)}return new Blob(u,{type:"image/png"})}}var v=u("gJ2e"),x=e.pb({encapsulation:0,styles:[[""]],data:{}});function q(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,5,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(1,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,1,"ion-icon",[["name","ribbon"],["slot","start"]],null,null,null,t.cb,t.r)),e.qb(3,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(4,0,null,0,1,"p",[["style","color:#a9a9a9"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Qual a\u0155ea tem mais afinidade e deseja colaborar?"]))],(function(l,n){l(n,3,0,"ribbon")}),null)}function y(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,6,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(1,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,1,"ion-icon",[["name","trophy"],["slot","start"],["style","margin: 0px 29px 5px 0px;"]],null,null,null,t.cb,t.r)),e.qb(3,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(4,0,null,0,2,"ion-label",[["style","color:#a9a9a9"]],null,null,null,t.ib,t.x)),e.qb(5,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Kb(6,0,["",""]))],(function(l,n){l(n,3,0,"trophy")}),(function(l,n){l(n,6,0,n.context.$implicit.descricao)}))}function D(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,11,"ion-header",[],null,null,null,t.bb,t.q)),e.qb(1,49152,null,0,o.C,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,9,"ion-toolbar",[],null,null,null,t.vb,t.K)),e.qb(3,49152,null,0,o.Db,[e.h,e.k,e.x],null,null),(l()(),e.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,t.P,t.e)),e.qb(5,49152,null,0,o.m,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,2,"ion-back-button",[["defaultHref","/home"],["text",""]],null,[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==e.Cb(l,8).onClick(u)&&i),i}),t.N,t.c)),e.qb(7,49152,null,0,o.h,[e.h,e.k,e.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),e.qb(8,16384,null,0,o.i,[[2,o.jb],o.Jb],{defaultHref:[0,"defaultHref"]},null),(l()(),e.rb(9,0,null,0,2,"ion-title",[],null,null,null,t.tb,t.I)),e.qb(10,49152,null,0,o.Bb,[e.h,e.k,e.x],null,null),(l()(),e.Kb(-1,0,["Perfil"])),(l()(),e.rb(12,0,null,null,100,"ion-content",[["class","background-app-image"]],null,null,null,t.V,t.k)),e.qb(13,49152,null,0,o.v,[e.h,e.k,e.x],null,null),(l()(),e.rb(14,0,null,0,98,"ion-card",[["class","card-panel-top"]],null,null,null,t.S,t.f)),e.qb(15,49152,null,0,o.n,[e.h,e.k,e.x],null,null),(l()(),e.rb(16,0,null,0,8,"ion-card-header",[["class","card-panel-header"]],null,null,null,t.R,t.h)),e.qb(17,49152,null,0,o.p,[e.h,e.k,e.x],null,null),(l()(),e.rb(18,0,null,0,6,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(19,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(20,0,null,0,1,"ion-icon",[["name","contact"],["slot","start"]],null,null,null,t.cb,t.r)),e.qb(21,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(22,0,null,0,2,"ion-label",[],null,null,null,t.ib,t.x)),e.qb(23,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Kb(24,0,["",""])),(l()(),e.rb(25,0,null,0,87,"ion-card-content",[["class","ion-margin-top"]],null,null,null,t.Q,t.g)),e.qb(26,49152,null,0,o.o,[e.h,e.k,e.x],null,null),(l()(),e.rb(27,0,null,0,2,"ion-avatar",[["class","center"],["style","height: 124px; width: 124px;"]],null,null,null,t.M,t.b)),e.qb(28,49152,null,0,o.g,[e.h,e.k,e.x],null,null),(l()(),e.rb(29,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e.rb(30,0,null,0,13,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(31,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(32,0,null,0,1,"ion-icon",[["name","call"],["slot","start"]],null,null,null,t.cb,t.r)),e.qb(33,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(34,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,t.ib,t.x)),e.qb(35,49152,null,0,o.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Kb(-1,0,["Telefone:"])),(l()(),e.rb(37,0,null,0,6,"ion-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0,a=l.component;return"ionBlur"===n&&(i=!1!==e.Cb(l,38)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Cb(l,38)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(a.usuario.phoneNumber=u)&&i),i}),t.db,t.s)),e.qb(38,16384,null,0,o.Ob,[e.k],null,null),e.Hb(1024,null,r.i,(function(l){return[l]}),[o.Ob]),e.qb(40,671744,null,0,r.m,[[8,null],[8,null],[8,null],[6,r.i]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,r.j,null,[r.m]),e.qb(42,16384,null,0,r.k,[[4,r.j]],null,null),e.qb(43,49152,null,0,o.H,[e.h,e.k,e.x],{disabled:[0,"disabled"]},null),(l()(),e.rb(44,0,null,0,13,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(45,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(46,0,null,0,1,"ion-icon",[["name","map"],["slot","start"]],null,null,null,t.cb,t.r)),e.qb(47,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(48,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,t.ib,t.x)),e.qb(49,49152,null,0,o.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Kb(-1,0,["Endere\xe7o:"])),(l()(),e.rb(51,0,null,0,6,"ion-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0,a=l.component;return"ionBlur"===n&&(i=!1!==e.Cb(l,52)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Cb(l,52)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(a.usuario.address=u)&&i),i}),t.db,t.s)),e.qb(52,16384,null,0,o.Ob,[e.k],null,null),e.Hb(1024,null,r.i,(function(l){return[l]}),[o.Ob]),e.qb(54,671744,null,0,r.m,[[8,null],[8,null],[8,null],[6,r.i]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,r.j,null,[r.m]),e.qb(56,16384,null,0,r.k,[[4,r.j]],null,null),e.qb(57,49152,null,0,o.H,[e.h,e.k,e.x],{disabled:[0,"disabled"]},null),(l()(),e.rb(58,0,null,0,13,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(59,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(60,0,null,0,1,"ion-icon",[["name","calendar"],["slot","start"]],null,null,null,t.cb,t.r)),e.qb(61,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(62,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,t.ib,t.x)),e.qb(63,49152,null,0,o.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Kb(-1,0,["Data de Nascimento:"])),(l()(),e.rb(65,0,null,0,6,"ion-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0,a=l.component;return"ionBlur"===n&&(i=!1!==e.Cb(l,66)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Cb(l,66)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(a.usuario.birthday=u)&&i),i}),t.db,t.s)),e.qb(66,16384,null,0,o.Ob,[e.k],null,null),e.Hb(1024,null,r.i,(function(l){return[l]}),[o.Ob]),e.qb(68,671744,null,0,r.m,[[8,null],[8,null],[8,null],[6,r.i]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,r.j,null,[r.m]),e.qb(70,16384,null,0,r.k,[[4,r.j]],null,null),e.qb(71,49152,null,0,o.H,[e.h,e.k,e.x],{disabled:[0,"disabled"]},null),(l()(),e.rb(72,0,null,0,9,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(73,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(74,0,null,0,1,"ion-icon",[["name","trophy"],["slot","start"],["style","margin: 0px 29px 5px 0px;"]],null,null,null,t.cb,t.r)),e.qb(75,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(76,0,null,0,2,"ion-label",[["style","color:#a9a9a9"]],null,null,null,t.ib,t.x)),e.qb(77,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Kb(-1,0,["\xc9 batizado?"])),(l()(),e.rb(79,0,null,0,2,"ion-label",[["style","color:#a9a9a9"]],null,null,null,t.ib,t.x)),e.qb(80,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Kb(81,0,["",""])),(l()(),e.rb(82,0,null,0,13,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(83,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(84,0,null,0,1,"ion-icon",[["name","mail"],["slot","start"]],null,null,null,t.cb,t.r)),e.qb(85,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(86,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,t.ib,t.x)),e.qb(87,49152,null,0,o.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Kb(-1,0,["E-mail:"])),(l()(),e.rb(89,0,null,0,6,"ion-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0,a=l.component;return"ionBlur"===n&&(i=!1!==e.Cb(l,90)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Cb(l,90)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(a.usuario.email=u)&&i),i}),t.db,t.s)),e.qb(90,16384,null,0,o.Ob,[e.k],null,null),e.Hb(1024,null,r.i,(function(l){return[l]}),[o.Ob]),e.qb(92,671744,null,0,r.m,[[8,null],[8,null],[8,null],[6,r.i]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Hb(2048,null,r.j,null,[r.m]),e.qb(94,16384,null,0,r.k,[[4,r.j]],null,null),e.qb(95,49152,null,0,o.H,[e.h,e.k,e.x],{disabled:[0,"disabled"]},null),(l()(),e.gb(16777216,null,0,1,null,q)),e.qb(97,16384,null,0,b.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(98,0,null,0,3,"ion-list",[],null,null,null,t.jb,t.y)),e.qb(99,49152,null,0,o.P,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,y)),e.qb(101,278528,null,0,b.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(102,0,null,0,10,"ion-item",[],null,null,null,t.hb,t.t)),e.qb(103,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(104,0,null,0,2,"ion-button",[["color","secondary"],["size","small"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.showConfirmPassword()&&e),e}),t.O,t.d)),e.qb(105,49152,null,0,o.l,[e.h,e.k,e.x],{color:[0,"color"],size:[1,"size"]},null),(l()(),e.Kb(-1,0,["Trocar senha"])),(l()(),e.rb(107,0,null,0,5,"ion-button",[["color","warning"],["routerDirection","forward"],["size","small"],["slot","end"]],null,[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==e.Cb(l,109).onClick()&&i),"click"===n&&(i=!1!==e.Cb(l,111).onClick(u)&&i),i}),t.O,t.d)),e.qb(108,49152,null,0,o.l,[e.h,e.k,e.x],{color:[0,"color"],routerDirection:[1,"routerDirection"],size:[2,"size"]},null),e.qb(109,16384,null,0,s.n,[s.m,s.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Db(110,1),e.qb(111,737280,null,0,o.Mb,[b.h,o.Jb,e.k,s.m,[2,s.n]],{routerDirection:[0,"routerDirection"]},null),(l()(),e.Kb(-1,0,["Alterar"]))],(function(l,n){var u=n.component;l(n,7,0,"/home",""),l(n,8,0,"/home"),l(n,21,0,"contact"),l(n,33,0,"call"),l(n,35,0,"floating"),l(n,40,0,!0,u.usuario.phoneNumber),l(n,43,0,!0),l(n,47,0,"map"),l(n,49,0,"floating"),l(n,54,0,!0,u.usuario.address),l(n,57,0,!0),l(n,61,0,"calendar"),l(n,63,0,"floating"),l(n,68,0,!0,u.usuario.birthday),l(n,71,0,!0),l(n,75,0,"trophy"),l(n,85,0,"mail"),l(n,87,0,"floating"),l(n,92,0,!0,u.usuario.email),l(n,95,0,!0),l(n,97,0,u.usuario.affinity),l(n,101,0,u.usuario.affinity),l(n,105,0,"secondary","small"),l(n,108,0,"warning","forward","small");var e=l(n,110,0,"/perfil-edit");l(n,109,0,e),l(n,111,0,"forward")}),(function(l,n){var u=n.component;l(n,24,0,u.usuario.displayName),l(n,29,0,u.previewSucursalInstalacion),l(n,37,0,e.Cb(n,42).ngClassUntouched,e.Cb(n,42).ngClassTouched,e.Cb(n,42).ngClassPristine,e.Cb(n,42).ngClassDirty,e.Cb(n,42).ngClassValid,e.Cb(n,42).ngClassInvalid,e.Cb(n,42).ngClassPending),l(n,51,0,e.Cb(n,56).ngClassUntouched,e.Cb(n,56).ngClassTouched,e.Cb(n,56).ngClassPristine,e.Cb(n,56).ngClassDirty,e.Cb(n,56).ngClassValid,e.Cb(n,56).ngClassInvalid,e.Cb(n,56).ngClassPending),l(n,65,0,e.Cb(n,70).ngClassUntouched,e.Cb(n,70).ngClassTouched,e.Cb(n,70).ngClassPristine,e.Cb(n,70).ngClassDirty,e.Cb(n,70).ngClassValid,e.Cb(n,70).ngClassInvalid,e.Cb(n,70).ngClassPending),l(n,81,0,u.usuario.baptism?"Sim":"N\xe3o"),l(n,89,0,e.Cb(n,94).ngClassUntouched,e.Cb(n,94).ngClassTouched,e.Cb(n,94).ngClassPristine,e.Cb(n,94).ngClassDirty,e.Cb(n,94).ngClassValid,e.Cb(n,94).ngClassInvalid,e.Cb(n,94).ngClassPending)}))}function w(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,1,"app-perfil",[],null,null,null,D,x)),e.qb(1,245760,null,0,k,[h.a,p.a,m.a,C.a,v.a],null,null)],(function(l,n){l(n,1,0)}),null)}var I=e.nb("app-perfil",k,w,{},{},[]);class M{}u.d(n,"PerfilPageModuleNgFactory",(function(){return S}));var S=e.ob(i,[],(function(l){return e.zb([e.Ab(512,e.j,e.Z,[[8,[a.a,I]],[3,e.j],e.v]),e.Ab(4608,b.l,b.k,[e.s,[2,b.s]]),e.Ab(4608,r.q,r.q,[]),e.Ab(4608,o.b,o.b,[e.x,e.g]),e.Ab(4608,o.Ib,o.Ib,[o.b,e.j,e.p]),e.Ab(4608,o.Lb,o.Lb,[o.b,e.j,e.p]),e.Ab(1073742336,b.b,b.b,[]),e.Ab(1073742336,r.p,r.p,[]),e.Ab(1073742336,r.f,r.f,[]),e.Ab(1073742336,o.Fb,o.Fb,[]),e.Ab(1073742336,s.o,s.o,[[2,s.t],[2,s.m]]),e.Ab(1073742336,M,M,[]),e.Ab(1073742336,i,i,[]),e.Ab(1024,s.k,(function(){return[[{path:"",component:k}]]}),[])])}))}}]);